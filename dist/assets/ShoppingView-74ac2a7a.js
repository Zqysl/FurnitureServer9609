import"./http-8cec2738.js";import{a as z}from"./orders-dac98f4c.js";import{u as w,a as B}from"./counter-f0b31666.js";import{P as E}from"./ProductCard-f306131d.js";import{d as D,g as p,s as R,e as j,n as A,o as n,c as i,b as e,i as C,w as F,F as q,k as O,u as d,q as U,f as W,v as G,p as H,m as J,a as k,E as S,_ as K}from"./index-1c796aa9.js";import"./products-966e8412.js";const M="/assets/hero-b4a98b2f.png",l=r=>(H("data-v-34f2debe"),r=r(),J(),r),Q={class:"container"},X={class:"row mt-4"},Y={class:"col"},Z={class:"d-flex h-100"},$={class:"justify-content-center align-self-center"},ee=l(()=>e("h2",null,[e("strong",null,"Latest furnitures, "),k(),e("br"),k("in our website")],-1)),te=l(()=>e("p",null,"Check our furnitures now !",-1)),se=l(()=>e("button",{type:"button",class:"btn btn-primary position-relative"},"Order Now",-1)),ae=l(()=>e("div",{class:"col mt-4 mb-4 mr-4 ml-4"},[e("img",{src:M})],-1)),oe={key:0},ne={key:1,class:"page-container"},re={class:"product-container"},ce={class:"d-flex justify-content-center mt-4"},g=12,ie=D({__name:"ShoppingView",setup(r){const m=p(!1),u=p(!1),o=p(1),v=localStorage.getItem("usyd-customer-id"),{products:x,loading:V,totalData:I}=R(w()),{refreshProducts:f}=w(),{refreshCartItems:L}=B(),P=async(c,a)=>{u.value=!0,m.value=!0;var _={user_id:v,product:c.product_id,quantity:a};z(_).then(t=>{t.success&&S({title:"Success",message:t.data.message,type:"success"})}).catch(t=>{var s,h,y,b;S({title:"Warning",message:((h=(s=t.response)==null?void 0:s.data)==null?void 0:h.detail)||((b=(y=t.response)==null?void 0:y.data)==null?void 0:b.message)||t.message,type:"warning"})}).finally(()=>{var t={user_id:v};L(t),u.value=!1,m.value=!1})},N=async c=>{o.value=c;var a={page_num:o.value,page_size:g};f(a)};var T={page_num:o.value,page_size:g};return f(T),(c,a)=>{const _=j("RouterLink"),t=A("loading");return n(),i("div",Q,[e("div",X,[e("div",Y,[e("div",Z,[e("div",$,[ee,te,C(_,{class:"nav-link","aria-current":"page",to:"/cart"},{default:F(()=>[se]),_:1})])])]),ae]),u.value?(n(),i("div",oe,"Loading ...")):(n(),i("div",ne,[e("div",re,[(n(!0),i(q,null,O(d(x),s=>(n(),W(E,{width:280,product:s,key:s.product_id,onAddToCart:P},null,8,["product"]))),128))])])),e("div",ce,[U(C(d(G),{modelValue:o.value,"onUpdate:modelValue":a[0]||(a[0]=s=>o.value=s),"page-size":g,total:d(I),layout:"prev, pager, next",onCurrentChange:N},null,8,["modelValue","total"]),[[t,d(V),void 0,{fullscreen:!0,lock:!0}]])])])}}});const me=K(ie,[["__scopeId","data-v-34f2debe"]]);export{me as default};
