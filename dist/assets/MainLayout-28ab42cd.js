import{d as L,g as f,s as J,h as O,e as c,o as i,c as y,i as o,w as e,a,u as b,j as W,F as X,k as Y,b as u,t as I,f as h,E as Z,r,l as ee,p as oe,m as te,_ as P}from"./index-598e1e45.js";import{g as se}from"./categories-27b13517.js";import{u as ae,a as w}from"./counter-2828ea18.js";import"./http-dc5150a7.js";import"./products-ddcd2c49.js";import"./orders-f0a9bf85.js";const V=d=>(oe("data-v-07f9194a"),d=d(),te(),d),ne={class:"shopping-top-bar"},le=V(()=>u("div",{class:"flex-grow"},null,-1)),re=V(()=>u("div",{class:"flex-grow"},null,-1)),ce={class:"position-relative"},ie={class:"badge bg-primary rounded-circle cart-badge position-absolute"},ue=L({__name:"TopbarComponent",setup(d){const _=f([]),{refreshProducts:v}=ae(),{totalQuantity:m}=J(w()),{refreshCartItems:$}=w(),T=localStorage.getItem("usyd-customer-id"),z=localStorage.getItem("usyd-customer-token"),B=localStorage.getItem("usyd-customer-email"),F=O(()=>!!z&&!!B);var M={user_id:T};$(M);const N=()=>{localStorage.removeItem("usyd-customer-token"),localStorage.removeItem("usyd-customer-email"),localStorage.removeItem("usyd-customer-id"),localStorage.token="",Z({title:"Success",message:"Logout Success",type:"success"}),r.push({path:"/home",replace:!0}).finally(()=>{window.location.reload()})};se({}).then(n=>{_.value=n.data,console.log("all",n)});const E=n=>{r.push({path:"/furnitures",query:{category_id:n.category_id,category_name:n.category_name}})},k=()=>{r.push({path:"/home"})},K=()=>{r.push({path:"/product-customization"})},R=()=>{r.push({path:"/cart"})},H=()=>{r.push({path:"/customer-login"})},j=()=>{r.push({path:"/customer-profile"})},p=f(""),x=f("1"),q=(n,t)=>{},A=(n,t)=>{x.value="1",r.push({name:"home"});var g={page_num:1,page_size:999,product_name:p.value};v(g),p.value=""};return(n,t)=>{const g=c("Platform"),C=c("el-icon"),l=c("el-menu-item"),D=c("el-input"),S=c("el-sub-menu"),Q=c("ShoppingTrolley"),U=c("el-menu");return i(),y("div",ne,[o(U,{class:"shopping-top-bar-menu","default-active":x.value,mode:"horizontal",ellipsis:!1,onSelect:q},{default:e(()=>[o(l,{index:"0",onClick:t[0]||(t[0]=s=>k())},{default:e(()=>[o(C,null,{default:e(()=>[o(g)]),_:1}),a(" Furnitures Shop ")]),_:1}),le,o(D,{modelValue:p.value,"onUpdate:modelValue":t[1]||(t[1]=s=>p.value=s),class:"w-25 m-2 searchfield",clearable:"",placeholder:"Search furniture","prefix-icon":b(ee),onKeyup:W(A,["enter"])},null,8,["modelValue","prefix-icon","onKeyup"]),re,o(l,{index:"1",onClick:t[2]||(t[2]=s=>k())},{default:e(()=>[a("Home")]),_:1}),o(l,{index:"5",onClick:t[3]||(t[3]=s=>K())},{default:e(()=>[a("Chair Customization")]),_:1}),o(S,null,{title:e(()=>[a("Furnitures")]),default:e(()=>[(i(!0),y(X,null,Y(_.value,(s,G)=>(i(),h(l,{key:G,index:s.category_id,onClick:ge=>E(s)},{default:e(()=>[a(I(s.category_name),1)]),_:2},1032,["index","onClick"]))),128))]),_:1}),o(l,{index:"4",onClick:t[4]||(t[4]=s=>R())},{default:e(()=>[u("span",ce,[o(C,{size:20},{default:e(()=>[o(Q)]),_:1}),u("span",ie,I(b(m)),1)])]),_:1}),F.value?(i(),h(S,{key:0,index:"3"},{title:e(()=>[a("Profile")]),default:e(()=>[o(l,{index:"3-1",onClick:j},{default:e(()=>[a("My Profile")]),_:1}),o(l,{index:"3-2",onClick:N},{default:e(()=>[a("Logout")]),_:1})]),_:1})):(i(),h(l,{key:1,index:"3",onClick:H},{default:e(()=>[a("Login")]),_:1}))]),_:1},8,["default-active"])])}}});const de=P(ue,[["__scopeId","data-v-07f9194a"]]),pe={class:"body-page"},_e={class:"shopping-body"},me=L({__name:"MainLayout",setup(d){return console.log("shopping layout loaded..."),(_,v)=>{const m=c("RouterView");return i(),y("div",pe,[u("div",null,[o(de),u("div",_e,[o(m)])])])}}});const Ce=P(me,[["__scopeId","data-v-d0178767"]]);export{Ce as default};
