import{c as f}from"./payment-6fbc7ebe.js";import{d as y,g,B as v,n as k,o as l,c as u,q as P,E as d,b as m}from"./index-598e1e45.js";import"./http-dc5150a7.js";const w={key:0},I={key:1},D=m("h1",null,"Payment Successful",-1),B=m("p",null,"Your payment was successful. Thank you for your purchase!",-1),S=[D,B],N=y({__name:"PaymentSuccessView",setup(E){const a=g(!1),p=()=>{let e=new URLSearchParams(window.location.search);if(!e.has("token")||!e.has("paymentId")||!e.has("PayerID"))console.log("error");else{a.value=!0;const t=e.get("token"),_=e.get("paymentId"),h=e.get("PayerID");var n={paymentId:_,token:t,PayerID:h};f(n).then(s=>{s.success&&d({title:"Success",message:s.data.message,type:"success"})}).catch(s=>{var o,c,i,r;d({title:"Warning",message:((c=(o=s.response)==null?void 0:o.data)==null?void 0:c.detail)||((r=(i=s.response)==null?void 0:i.data)==null?void 0:r.message)||s.message,type:"warning"})}).finally(()=>{a.value=!1})}};return v(()=>{p()}),(e,n)=>{const t=k("loading");return a.value?(l(),u("div",w,"Loading ...")):P((l(),u("div",I,S)),[[t,a.value,void 0,{fullscreen:!0,lock:!0}]])}}});export{N as default};
