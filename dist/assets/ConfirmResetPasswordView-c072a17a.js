import{d as x,g as f,e as c,o as y,c as v,i as _,w,b as s,j as b,a as P,E as r,r as h,p as V,m as k,_ as C}from"./index-48e4bbc4.js";import{_ as R}from"./emailverify-25fb5b5c.js";import{c as S}from"./users-c3030ca3.js";import"./http-0a3fdf92.js";const m=t=>(V("data-v-7ffe097b"),t=t(),k(),t),I={class:"page"},N=m(()=>s("div",{class:"image-container"},[s("img",{style:{width:"200px",height:"300px"},src:R})],-1)),K=m(()=>s("p",{style:{"text-align":"center","margin-top":"10px","font-weight":"bold","font-size":"20px"}}," Please enter your new password ",-1)),B={style:{display:"flex","align-items":"center","padding-left":"20px","padding-right":"30px","padding-top":"20px","margin-bottom":"20px"}},E=m(()=>s("label",{style:{flex:"0 0 auto","margin-right":"10px"}},"New Password",-1)),W={class:"button-container"},U=x({__name:"ConfirmResetPasswordView",setup(t){const l=f(""),d=f(!1),u=()=>{let a=new URLSearchParams(window.location.search);if(!a.has("token"))r({title:"Warning",message:"Failed reset password",type:"warning"}),h.push({path:"/home"});else{a.get("token");const o={password:l.value,token:a.get("token")};d.value=!0,S(o).then(e=>{e.status!="OK"?r({title:"Warning",message:e.data.message,type:"warning"}):(r({title:"Success",message:"Reset Password Success",type:"success"}),h.push({path:"/home"}))}).catch(e=>{var n,i,p,g;r({title:"Warning",message:((i=(n=e.response)==null?void 0:n.data)==null?void 0:i.detail)||((g=(p=e.response)==null?void 0:p.data)==null?void 0:g.message)||e.message,type:"warning"})}).finally(()=>{d.value=!1})}};return(a,o)=>{const e=c("el-input"),n=c("el-button"),i=c("el-card");return y(),v("div",I,[_(i,{class:"container"},{default:w(()=>[N,K,s("div",B,[E,_(e,{modelValue:l.value,"onUpdate:modelValue":o[0]||(o[0]=p=>l.value=p),placeholder:"Input new password",style:{flex:"1"},type:"password",autocomplete:"off","show-password":"",onKeyup:b(u,["enter"])},null,8,["modelValue","onKeyup"])]),s("div",W,[_(n,{loading:d.value,type:"primary",style:{width:"150px",height:"40px"},onClick:u},{default:w(()=>[P(" Reset Password ")]),_:1},8,["loading"])])]),_:1})])}}});const F=C(U,[["__scopeId","data-v-7ffe097b"]]);export{F as default};
