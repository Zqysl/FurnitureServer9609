import{_ as V,g as d,e as _,o as w,c as b,i as r,w as u,b as n,j as E,a as v,E as o,r as C,p as S,m as k}from"./index-a6482bb7.js";import{_ as I}from"./emailverify-25fb5b5c.js";import{e as N,r as W}from"./users-a36660c6.js";import"./http-325886a9.js";const f=l=>(S("data-v-394bdacd"),l=l(),k(),l),B={class:"page"},K=f(()=>n("div",{class:"image-container"},[n("img",{style:{width:"200px",height:"300px"},src:I})],-1)),q=f(()=>n("p",{style:{"text-align":"center","margin-top":"10px","font-weight":"bold","font-size":"20px"}}," Please verify your email address by clicking the button below ",-1)),D={style:{display:"flex","align-items":"center","padding-left":"20px","padding-right":"30px","padding-top":"20px","margin-bottom":"20px"}},j=f(()=>n("label",{style:{flex:"0 0 auto","margin-right":"10px"}},"Verification Code",-1)),z={class:"button-container"},A="emailverifysuccess",P={__name:"EmailVerifyView",setup(l){const y=localStorage.getItem("email"),p=d(""),m=d(!1),g=d(!1);d(!1);const h=()=>{const c={email:y,verification_code:p.value};m.value=!0,N(c).then(e=>{e.code!=200?o({title:"Warning",message:e.data.message,type:"warning"}):(o({title:"Success",message:e.data.message,type:"success"}),C.push({path:A}))}).catch(e=>{var t,a,s,i;o({title:"Warning",message:((a=(t=e.response)==null?void 0:t.data)==null?void 0:a.detail)||((i=(s=e.response)==null?void 0:s.data)==null?void 0:i.message)||e.message,type:"warning"})}).finally(()=>{m.value=!1})},x=()=>{const c={email:y};g.value=!0,W(c).then(e=>{e.code!=200?o({title:"Warning",message:e.data.message,type:"warning"}):o({title:"Success",message:e.data.message,type:"success"})}).catch(e=>{var t,a,s,i;o({title:"Warning",message:((a=(t=e.response)==null?void 0:t.data)==null?void 0:a.detail)||((i=(s=e.response)==null?void 0:s.data)==null?void 0:i.message)||e.message,type:"warning"})}).finally(()=>{g.value=!1})};return(c,e)=>{const t=_("el-input"),a=_("el-button"),s=_("el-card");return w(),b("div",B,[r(s,{class:"container"},{default:u(()=>[K,q,n("div",D,[j,r(t,{modelValue:p.value,"onUpdate:modelValue":e[0]||(e[0]=i=>p.value=i),placeholder:"Verification Code",style:{flex:"1"},onKeyup:E(h,["enter","native"])},null,8,["modelValue","onKeyup"])]),n("div",z,[r(a,{loading:m.value,type:"primary",style:{width:"100px",height:"40px"},onClick:h},{default:u(()=>[v(" Verify Email ")]),_:1},8,["loading"]),r(a,{loading:g.value,type:"primary",style:{width:"150px",height:"40px"},onClick:x},{default:u(()=>[v(" Resend Verification ")]),_:1},8,["loading"])])]),_:1})])}}},G=V(P,[["__scopeId","data-v-394bdacd"]]);export{G as default};
